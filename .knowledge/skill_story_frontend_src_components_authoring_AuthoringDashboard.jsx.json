{"is_source_file": true, "format": "JavaScript/JSX (React component)", "description": "This file defines a React component named 'AuthoringDashboard' which serves as an instructor-only dashboard for managing stories, episodes, choices, and quiz questions within an authoring workflow. It includes multiple subcomponents for creating and updating stories, episodes, choices, and quiz questions, and handles user interactions, API calls, and optimistic UI updates.", "external_files": ["../../context/AuthContext", "../../api/client", "../story.css"], "external_methods": ["useAuth", "api.authorListStories", "api.authorListEpisodes", "api.authorListChoices", "api.authorListQuizQuestions", "api.authorCreateStory", "api.authorCreateEpisode", "api.authorCreateChoice", "api.authorCreateQuizQuestion", "api.authorDeleteChoice", "api.authorDeleteQuizQuestion"], "published": ["AuthoringDashboard", "StoryForm", "EpisodeForm", "ChoiceForm", "QuizQuestionForm"], "classes": [], "methods": [{"name": "AuthoringDashboard()", "description": "Main functional React component that manages state and UI for story, episode, choice, and quiz question management. Utilizes hooks for data fetching and state updates.", "scope": "", "scopeKind": ""}, {"name": "StoryForm", "description": "Form component for creating or updating a story, including validation."}, {"name": "EpisodeForm", "description": "Form component for creating or editing an episode, with validation."}, {"name": "ChoiceForm", "description": "Form to add choices to an episode, including validation for label, next episode index, XP delta, and terminal status."}, {"name": "QuizQuestionForm", "description": "Form for adding quiz questions (MCQ or True/False), with validation for prompt, options, and correct answer."}, {"name": "validate(f)", "scope": "AuthoringDashboard", "scopeKind": "function", "description": "unavailable"}], "calls": ["useAuth()", "api.authorListStories()", "api.authorListEpisodes(storyId)", "api.authorListChoices(storyId, epIndex)", "api.authorListQuizQuestions(storyId, epIndex)", "api.authorCreateStory(payload)", "api.authorCreateEpisode(selectedStory.id, payload)", "api.authorCreateChoice(selectedStory.id, activeEpIndex, payload)", "api.authorCreateQuizQuestion(selectedStory.id, activeEpIndex, payload)", "api.authorDeleteChoice(selectedStory.id, activeEpIndex, c.id)", "api.authorDeleteQuizQuestion(selectedStory.id, activeEpIndex, q.id)"], "search-terms": ["AuthoringDashboard", "React component", "story management", "episode creation", "quiz question management", "choice handling", "instructor dashboard"], "state": 2, "file_id": 21, "knowledge_revision": 62, "git_revision": "", "ctags": [{"_type": "tag", "name": "3", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^          minLength={3}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.required", "scopeKind": "class"}, {"_type": "tag", "name": "3", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^          rows={3}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.rows", "scopeKind": "class"}, {"_type": "tag", "name": "6", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^          rows={6}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.rows", "scopeKind": "class"}, {"_type": "tag", "name": "AuthoringDashboard", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^export default function AuthoringDashboard() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^      content: form.content.trim(),$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.payload", "scopeKind": "class"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^      description: form.description.trim(),$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.payload", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^          value={form.content}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^          value={form.description}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^          value={form.index}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^          value={form.tags}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^          value={form.title}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^        value={form.next_episode_index}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^        value={form.prompt}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.value", "scopeKind": "class"}, {"_type": "tag", "name": "form", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^        value={form.xp_delta}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.value", "scopeKind": "class"}, {"_type": "tag", "name": "handleChange", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^          onChange={handleChange}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "handleChange", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^        onChange={handleChange}$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^            const optimistic = { id: tmpId, ...payload };$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.onSubmit.optimistic", "scopeKind": "class"}, {"_type": "tag", "name": "index", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^      index: Number(form.index),$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.payload", "scopeKind": "class"}, {"_type": "tag", "name": "is_quiz", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^      is_quiz: !!form.is_quiz,$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.payload", "scopeKind": "class"}, {"_type": "tag", "name": "label", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^      label: form.label.trim(),$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.payload", "scopeKind": "class"}, {"_type": "tag", "name": "next_episode_index", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^      next_episode_index:$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.payload", "scopeKind": "class"}, {"_type": "tag", "name": "optimistic", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^            const optimistic = { id: tmpId, ...payload };$/", "language": "JavaScript", "kind": "class", "scope": "AuthoringDashboard.onSubmit", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "AuthoringDashboard", "scopeKind": "class"}, {"_type": "tag", "name": "published", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^      published: !!form.published,$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.payload", "scopeKind": "class"}, {"_type": "tag", "name": "submit", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^    <form onSubmit={submit} className=\"row form\" style={{ flexDirection: \"column\", gap: 8 }}>$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.AnonymousClass1a8fb3d80101", "scopeKind": "class"}, {"_type": "tag", "name": "submit", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^    <form onSubmit={submit} className=\"row form\" style={{ flexDirection: \"column\", gap: 8 }}>$/", "language": "JavaScript", "kind": "field", "scope": "AuthoringDashboard.AnonymousClass1a8fb3d80201", "scopeKind": "class"}, {"_type": "tag", "name": "tags", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^      tags: form.tags$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.payload", "scopeKind": "class"}, {"_type": "tag", "name": "terminal", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^      terminal: !!form.terminal,$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.payload", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^      title: form.title.trim(),$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.payload", "scopeKind": "class"}, {"_type": "tag", "name": "validate", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^  function validate(f) {$/", "language": "JavaScript", "kind": "function", "signature": "(f)", "scope": "AuthoringDashboard", "scopeKind": "function"}, {"_type": "tag", "name": "xp_delta", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "pattern": "/^      xp_delta: Number(form.xp_delta || 0),$/", "language": "JavaScript", "kind": "property", "scope": "AuthoringDashboard.payload", "scopeKind": "class"}], "hash": "d33664571e567e2cecd0d31de47de5cb", "format-version": 4, "code-base-name": "skill_story_frontend", "filename": "skill_story_frontend/src/components/authoring/AuthoringDashboard.jsx", "fields": [{"name": "minLength={3}", "scope": "AuthoringDashboard.required", "scopeKind": "class", "description": "unavailable"}, {"name": "rows={3}", "scope": "AuthoringDashboard.rows", "scopeKind": "class", "description": "unavailable"}, {"name": "rows={6}", "scope": "AuthoringDashboard.rows", "scopeKind": "class", "description": "unavailable"}, {"name": "content: form.content.trim(),", "scope": "AuthoringDashboard.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "description: form.description.trim(),", "scope": "AuthoringDashboard.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.content}", "scope": "AuthoringDashboard.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.description}", "scope": "AuthoringDashboard.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.index}", "scope": "AuthoringDashboard.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.tags}", "scope": "AuthoringDashboard.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.title}", "scope": "AuthoringDashboard.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.next_episode_index}", "scope": "AuthoringDashboard.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.prompt}", "scope": "AuthoringDashboard.value", "scopeKind": "class", "description": "unavailable"}, {"name": "value={form.xp_delta}", "scope": "AuthoringDashboard.value", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={handleChange}", "scope": "AuthoringDashboard.onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "const optimistic = { id: tmpId, ...payload };", "scope": "AuthoringDashboard.onSubmit.optimistic", "scopeKind": "class", "description": "unavailable"}, {"name": "index: Number(form.index),", "scope": "AuthoringDashboard.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "is_quiz: !!form.is_quiz,", "scope": "AuthoringDashboard.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "label: form.label.trim(),", "scope": "AuthoringDashboard.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "next_episode_index:", "scope": "AuthoringDashboard.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "published: !!form.published,", "scope": "AuthoringDashboard.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "<form onSubmit={submit} className=\"row form\" style={{ flexDirection: \"column\", gap: 8 }}>", "scope": "AuthoringDashboard.AnonymousClass1a8fb3d80101", "scopeKind": "class", "description": "unavailable"}, {"name": "tags: form.tags", "scope": "AuthoringDashboard.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "terminal: !!form.terminal,", "scope": "AuthoringDashboard.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "title: form.title.trim(),", "scope": "AuthoringDashboard.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "xp_delta: Number(form.xp_delta || 0),", "scope": "AuthoringDashboard.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"62": ""}]}