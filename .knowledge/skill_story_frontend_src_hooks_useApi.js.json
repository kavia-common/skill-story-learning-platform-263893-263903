{"is_source_file": true, "format": "JavaScript", "description": "This file contains React custom hooks for interacting with the Skill Story API. It provides hooks for fetching data such as health status, stories, specific story details, episodes, user progress, profile, journal entries, and demo authentication tokens. Each hook employs an internal utility `useAsync` to handle asynchronous calls, loading, and error states. It also includes hooks for submitting choices and updating profile or journal data, likely used within React components to manage app state and API interactions.", "external_files": ["../api/client"], "external_methods": ["api.health", "api.listStories", "api.getStory", "api.getEpisode", "api.submitChoice", "api.getProgress", "api.getProfile", "api.patchProfile", "api.listJournal", "api.createJournal", "api.issueToken", "api.setToken"], "published": ["useHealth", "useStories", "useStory", "useEpisode", "useSubmitChoice", "useProgress", "useProfile", "useJournal", "useAuthDemo"], "classes": [], "methods": [{"name": "useAsync(fn, deps = [])", "description": "A utility hook to handle asynchronous function calls with built-in loading and error state management.", "scope": "", "scopeKind": ""}, {"name": "useHealth()", "description": "Hook to check the backend health status.", "scope": "", "scopeKind": ""}, {"name": "useStories()", "description": "Hook to retrieve the list of stories.", "scope": "", "scopeKind": ""}, {"name": "useStory(storyId)", "description": "Hook to fetch a specific story by ID.", "scope": "", "scopeKind": ""}, {"name": "useEpisode(storyId, epIndex)", "description": "Hook to get a specific episode payload for a given story and episode index.", "scope": "", "scopeKind": ""}, {"name": "useSubmitChoice(onUnauthorized)", "description": "Hook providing a function to submit user choices, handling authorization via callback on 401 errors.", "scope": "", "scopeKind": ""}, {"name": "useProgress()", "description": "Hook to get user progress and XP.", "scope": "", "scopeKind": ""}, {"name": "useProfile()", "description": "Hook to get and update user profile information.", "scope": "", "scopeKind": ""}, {"name": "useJournal()", "description": "Hook to list and create journal entries.", "scope": "", "scopeKind": ""}, {"name": "useAuthDemo()", "description": "Hook to issue demo authentication tokens.", "scope": "", "scopeKind": ""}], "calls": ["api.health", "api.listStories", "api.getStory", "api.getEpisode", "api.submitChoice", "api.getProgress", "api.getProfile", "api.patchProfile", "api.listJournal", "api.createJournal", "api.issueToken"], "search-terms": ["React hooks", "Skill Story API", "useAsync", "useStory", "useEpisode", "useSubmitChoice", "useProgress", "useProfile", "useJournal", "useAuthDemo", "api.client"], "state": 2, "file_id": 14, "knowledge_revision": 54, "git_revision": "c3f5d665e0b7fe21bad9616461f1b51c9713863a", "revision_history": [{"29": ""}, {"39": "8eab12752d7d4437e9e03637060e0207f5252480"}, {"41": "9bd30b60b90ceddc775a9c5830865317313ac7d7"}, {"54": "c3f5d665e0b7fe21bad9616461f1b51c9713863a"}], "ctags": [{"_type": "tag", "name": "useAsync", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/hooks/useApi.js", "pattern": "/^function useAsync(fn, deps = []) {$/", "language": "JavaScript", "kind": "function", "signature": "(fn, deps = [])"}, {"_type": "tag", "name": "useAuthDemo", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/hooks/useApi.js", "pattern": "/^export function useAuthDemo() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "useEpisode", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/hooks/useApi.js", "pattern": "/^export function useEpisode(storyId, epIndex) {$/", "language": "JavaScript", "kind": "function", "signature": "(storyId, epIndex)"}, {"_type": "tag", "name": "useHealth", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/hooks/useApi.js", "pattern": "/^export function useHealth() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "useJournal", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/hooks/useApi.js", "pattern": "/^export function useJournal() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "useProfile", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/hooks/useApi.js", "pattern": "/^export function useProfile() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "useProgress", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/hooks/useApi.js", "pattern": "/^export function useProgress() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "useStories", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/hooks/useApi.js", "pattern": "/^export function useStories() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "useStory", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/hooks/useApi.js", "pattern": "/^export function useStory(storyId) {$/", "language": "JavaScript", "kind": "function", "signature": "(storyId)"}, {"_type": "tag", "name": "useSubmitChoice", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/hooks/useApi.js", "pattern": "/^export function useSubmitChoice(onUnauthorized) {$/", "language": "JavaScript", "kind": "function", "signature": "(onUnauthorized)"}], "hash": "9e19db649b8beea7dbb39882db9acf13", "format-version": 4, "code-base-name": "skill_story_frontend", "filename": "skill_story_frontend/src/hooks/useApi.js"}