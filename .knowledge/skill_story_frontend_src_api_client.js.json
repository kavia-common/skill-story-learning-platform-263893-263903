{"is_source_file": true, "format": "JavaScript", "description": "This is a JavaScript source file implementing an API client for the Skill Story LMS frontend. It provides helper functions for making HTTP requests to backend endpoints with JSON parsing, error handling, and support for demo user headers. The file defines a set of exported methods for health checks, authentication, stories, episodes, profile management, and journal features.", "external_files": ["fetch API (built-in, not external)", "process.env (Node.js environment variables usage, likely via build tools or environment configuration)"], "external_methods": ["fetch"], "published": ["api"], "classes": [], "methods": [{"name": "health()", "description": "Performs a health check by calling the '/health' endpoint.", "scope": "api", "scopeKind": "class"}, {"name": "issueToken(xDemoUser)", "description": "Issues a demo or local token, optionally passing the X-Demo-User header.", "scope": "api", "scopeKind": "class"}, {"name": "listStories()", "description": "Fetches a list of all stories' metadata from the backend.", "scope": "api", "scopeKind": "class"}, {"name": "getStory(storyId)", "description": "Retrieves metadata for a specific story by its ID.", "scope": "api", "scopeKind": "class"}, {"name": "getEpisode(storyId, epIndex)", "description": "Fetches a specific episode's payload and choices for a given story and episode index.", "scope": "api", "scopeKind": "class"}, {"name": "submitChoice(storyId, choiceId)", "description": "Submits a user's choice for the current episode, advancing the story.", "scope": "api", "scopeKind": "class"}, {"name": "getProgress()", "description": "Gets XP and progression details for the demo user.", "scope": "api", "scopeKind": "class"}, {"name": "getProfile()", "description": "Fetches the current user's profile information.", "scope": "api", "scopeKind": "class"}, {"name": "patchProfile(patch)", "description": "Updates the user's profile with provided data.", "scope": "api", "scopeKind": "class"}, {"name": "listJournal()", "description": "Retrieves a list of journal entries.", "scope": "api", "scopeKind": "class"}, {"name": "createJournal(content)", "description": "Creates a new journal entry with provided content.", "scope": "api", "scopeKind": "class"}, {"name": "request(input, init = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "url(path)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "request"], "search-terms": ["Skill Story LMS API client", "fetch wrapper", "demo user header", "/api/stories", "/health", "request", "json parsing", "API base URL"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || \"\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DEMO_USER", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^const DEMO_USER = process.env.REACT_APP_DEMO_USER || \"\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "createJournal", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^  async createJournal(content) {$/", "language": "JavaScript", "kind": "method", "signature": "(content)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "getEpisode", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^  async getEpisode(storyId, epIndex) {$/", "language": "JavaScript", "kind": "method", "signature": "(storyId, epIndex)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "getProfile", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^  async getProfile() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "getProgress", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^  async getProgress() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "getStory", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^  async getStory(storyId) {$/", "language": "JavaScript", "kind": "method", "signature": "(storyId)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^  async health() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "issueToken", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^  async issueToken(xDemoUser) {$/", "language": "JavaScript", "kind": "method", "signature": "(xDemoUser)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "listJournal", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^  async listJournal() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "listStories", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^  async listStories() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "patchProfile", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^  async patchProfile(patch) {$/", "language": "JavaScript", "kind": "method", "signature": "(patch)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^async function request(input, init = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(input, init = {})"}, {"_type": "tag", "name": "submitChoice", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^  async submitChoice(storyId, choiceId) {$/", "language": "JavaScript", "kind": "method", "signature": "(storyId, choiceId)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/skill-story-learning-platform-263893-263903/skill_story_frontend/src/api/client.js", "pattern": "/^function url(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}], "hash": "9118df95ec1d1f20838968232560a22e", "format-version": 4, "code-base-name": "skill_story_frontend", "filename": "skill_story_frontend/src/api/client.js", "revision_history": [{"27": ""}]}